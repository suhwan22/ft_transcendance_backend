<html>

<head>

</head>

<body>
  <div>
    userId: <input id="user" type="text" />
    <button onclick="regist()">regist socket</button>
  </div>
  <div>
    <button onclick="match()">Match Making</button>
    <button onclick="ready()">Ready</button>
  </div>
  <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"
    integrity="sha384-KAZ4DtjNhLChOB/hxXuKqhMLYvx3b5MlT55xPEiNmREKRzeEm+RVPlTnAn0ajQNs"
    crossorigin="anonymous"></script>
  <script>
    const user = document.getElementById('user');
    let socket = io('http://localhost:3131/games');
    let game = null;

    socket.on('NOTICE', function (data) {
      console.log(data);
    });
    socket.on('ROOM', function (data) {
      game = data;
      console.log(data);
    });
    socket.on('READY', function (data) {
      console.log("상대방이 준비 하였습니다.");
    });
    socket.on('START', function (data) {
      console.log("게임 스타트");
    });
    function regist() {
      socket.emit('REGIST', parseInt(user.value));
    }
    function match() {
      socket.emit('MATCH', parseInt(user.value));
    }
    function ready() {
      if (!game)
        return ;
      console.log("준비 하였습니다.");
      socket.emit('READY', game);
    }
  </script>
</body>

</html>